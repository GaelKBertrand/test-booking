!function(){var n,e,t,s=!1,w={ANALYTICAL:"C0002",MARKETING:"C0004"},u={analytical:w.ANALYTICAL+"%3A1",marketing:w.MARKETING+"%3A1"},i="%2C",a="bkng_wvpc",o=(-1<(n=window&&window.location?window.location.href:"").indexOf("/")?n.split("/")[2]:n.split("/")[0]).split(":")[0].split("?")[0],r=/booking\.cn/.test(location.origin)?"booking.cn":"booking.com",c="www."+("www.booking.cn"===o?"booking.com":r),p=/\.(?:dev|dqs)\.booking\.com/.test(location.origin)?"account.dqs.booking.com":"account."+r,d=31536e6,C="function"==typeof XDomainRequest,l=function(){var n=document.querySelector("script[src*='privacy-consent']"),e="3ea94870-d4b1-483a-b1d2-faf1d982bb31";n&&n.hasAttribute("data-domain-script")&&(e=n.getAttribute("data-domain-script").trim());return e}(),_=(e=document.querySelector("script[src*='privacy-consent']"))&&e.nonce,f=window.hasOwnProperty("otStubData")||l.endsWith("-test")?"":";domain=."+o,g=1===T("isCountryNeedCookieBanner"),m=T("loadStartedAt"),v=T("countryCode"),k=24*("us"!==v?180:365)*60*60*1e3,O="banner_reject_all",y="banner_accept_cookies",h="preferences_save_settings",b=[y,"preferences_allow_all",h],A=[O,"preferences_reject_all",h],M=window.B&&window.B.env&&window.B.env.b_user_genius_status&&window.B.env.b_user_genius_status.b_genius_level?"genuis_level_"+window.B.env.b_user_genius_status.b_genius_level:"",P=new Promise(function(n){t=n});function T(n){return window.PCM&&void 0!==window.PCM[n]?window.PCM[n]:null}function D(n){n=R(n);var t={};return"string"==typeof n&&n.split("&").forEach(function(n){var e=n.split("=");t[e[0]]=e[1]}),t}function x(e){return Object.keys(e).map(function(n){return n+"="+e[n]}).join("&")}function E(n){var e=document.createElement("iframe");return e.onload=t,e.src="https://"+c+"/cookiebanner.html",e.id="OTcrossDomain",e.frameborder="0",e.height="0",e.width="0",e.style="position: absolute; overflow: hidden; clip: rect(0 0 0 0); width: 1px; height: 1px; margin: -1px; padding: 0; white-space: nowrap; border: 0; clip-path: inset(100%);",e.setAttribute("aria-hidden","true"),e.setAttribute("tabindex","-1"),e.setAttribute("data-propagate-only-forced-consent",""+!!n),document.body.appendChild(e),e}function S(n,e,t){var o={type:"onetrust",OptanonConsent:n};null!=e&&(o.OptanonAlertBoxClosed=e);var i,a=window.document.getElementById("OTcrossDomain");t&&!a&&(a=E(t)),a&&a.contentWindow&&(("true"!==(i=a.getAttribute("data-propagate-only-forced-consent"))||"true"===i&&t)&&P.then(function(){a.contentWindow.postMessage(o,"*")}))}function L(n){return n&&"undefined"!==n}function I(n,e,t,o){var i;window.PCM.__mustInjectSDK||void 0===window.OneTrust||void 0===n||(i=-1<n.indexOf(t),(void 0!==window.OptanonActiveGroups?-1<window.OptanonActiveGroups.indexOf(e):void 0)!==(window.PCM[o]=i)&&window.OneTrust.UpdateConsent("Category",e+":"+(i?"1":"0")))}function G(){var n=D(window.PCM.__getCookie("OptanonConsent"));I(n.groups,w.ANALYTICAL,u.analytical,"Analytical"),I(n.groups,w.MARKETING,u.marketing,"Marketing")}function q(n,e){var t,o;L(n)&&(t=(L(e)?new Date(e):new Date).getTime()+d,o=new Date(t).toUTCString(),document.cookie="OptanonConsent="+n+f+";path=/;expires="+o+";secure;samesite=none;",e&&"undefined"!==e&&(document.cookie="OptanonAlertBoxClosed="+e+f+";path=/;expires="+o+";secure;samesite=none;"),G())}function j(o,n,i,a,r){var s=new XMLHttpRequest;s.withCredentials=!0,s.onload=function(){var n=200===s.status;(n?i:r)();var e,t=window.B?window.B.require("c360Tracker"):void 0;a&&t&&(e=[],o.analytical&&e.push("analytical"),o.marketing&&e.push("marketing"),t.track({action_name:"privacy_consent.cookie_consent_accepted",action_version:"1.0.0",content:{status:n?"success":"failed",latency:new Date-a.wrapperCalledAt,consent_purposes:e,consented_all:a.consentedAll}}))},s.open("POST","https://"+p+"/privacy-consents",!0),s.setRequestHeader("Content-type","application/json;charset=UTF-8"),s.send(JSON.stringify(Object.assign({client_type:"web",client_id:"vO1Kblk7xX9tUn2cpZLS",genius_status:M},o,{optanon_action:n.optanonAction})))}function N(n){return 1!==n.backfilled_seed&&new Date(parseInt(n.backfilled_at))<new Date("2022-06-09")&&window.B&&window.B.et&&window.B.et.track("YTBeWfCDBHeJOUTBSSPNLcSdeae")}function R(n){return n&&-1<n.indexOf("%253")&&(n=decodeURI(n)),n}function U(n,e){n.backfilled_at=(new Date).getTime(),n.backfilled_seed=1;var t=x(n);q(t,e),S(t,e)}function K(){return window.B&&"function"==typeof B.require&&B.require("et")&&"function"==typeof B.require("et").track}function Y(){var n=new XMLHttpRequest;n.withCredentials=!0,n.onload=function(){200===n.status&&function(){var n=D(window.PCM.__getCookie("OptanonConsent"));n.implicitConsentCountry=g?"GDPR":"nonGDPR",n.implicitConsentDate=(new Date).getTime();var e=x(n),t=(new Date).getTime()+d,o=new Date(t).toUTCString();document.cookie="OptanonConsent="+e+f+";path=/;expires="+o+";secure;samesite=none;",G(),S(e,window.PCM.__getCookie("OptanonAlertBoxClosed"))}()},n.open("POST","https://"+p+"/privacy-consents/implicit",!0),n.setRequestHeader("Content-type","application/json;charset=UTF-8"),n.send(JSON.stringify({client_type:"web",client_id:"vO1Kblk7xX9tUn2cpZLS"}))}window.OptanonWrapper=function(){var n,e,t,o=new Date,i=window.Optanon&&window.Optanon.GetDomainData()&&window.Optanon.GetDomainData().ShowAlertNotice;if(s||(n=window.B?window.B.require("c360Tracker"):void 0,null!==m&&n&&(e={load_duration:o-m,displayed:i},(t=navigator.connection||navigator.mozConnection||navigator.webkitConnection)&&(e.network_information={type:t.type,effective_type:t.effectiveType}),n.track({action_name:"privacy_consent.cookie_consent_loaded",action_version:"1.0.0",content:e})),s=!0),G(),i)for(var a,r=window.PCM.__eventCounter;r<dataLayer.length;r++){"trackOptanonEvent"!==dataLayer[r].event&&"trackOptanonEvent"!==dataLayer[r][1]||(a=(dataLayer[r].optanonAction||dataLayer[r][2].optanonAction).toLowerCase().replace(/\s/g,"_"),-1===b.indexOf(a)&&-1===A.indexOf(a)||(window.PCM.syncConsent(a,o),window.PCM.__dispatchEvent("cookie_banner_closed"))),window.PCM.__eventCounter++}else window.PCM.__dispatchEvent("cookie_consent_available");"function"==typeof window.OptanonWrapperCallback&&"undefined"!==window.OptanonWrapperCallback&&window.OptanonWrapperCallback(arguments)};var F={a:"analytical",m:"marketing"};function H(){var n,e,t,o=function(n){if(n){for(var e=n.split("&"),t={},o=0;o<e.length;o++){var i=e[o].split(":");if(2!==i.length)return;var a=i[0],r=i[1],s=F[a];if(!s)return;t[s]="1"===r}return t}}(window.PCM.__getCookie(a));o&&((n=D(window.PCM.__getCookie("OptanonConsent"))).groups=Object.keys(o).filter(function(n){return o[n]}).map(function(n){return u[n]}).join(i),q(e=x(n),t=(new Date).toISOString()),S(e,t),window.PCM.__deleteCookie(a))}function V(){var n,e,t,o,i,a,r,s,c,d,l;C||(d=window.PCM.__getCookie("OptanonConsent"),l=R(d),d!==l&&(document.cookie="OptanonConsent="+l,G()),navigator.globalPrivacyControl&&"us"===v&&(a=window.PCM.__getCookie("OptanonAlertBoxClosed"),s=[],(r=D(window.PCM.__getCookie("OptanonConsent"))).consentCausedByGPCSignalStored||s.push(new Promise(function(n,e){j({analytical:0,marketing:0,is_first_time_gpc_signal:1},{optanonAction:"gpc_signal"},function(){n({consentCausedByGPCSignalStored:(new Date).getTime()})},null,function(){e({})})})),null!==(c=T("isUserLoggedIn"))&&1!==c||r.dnsmiCapturedTimestamp||s.push(new Promise(function(n,e){var t=new XMLHttpRequest;t.withCredentials=!0,t.onload=function(){200<=t.status&&t.status<=299?n({dnsmiCapturedTimestamp:(new Date).getTime()}):e({})},t.open("POST","https://"+p+"/dnsmi",!0),t.setRequestHeader("Content-type","application/json;charset=UTF-8"),t.send()})),Promise.allSettled(s).then(function(n){for(var e,t=!1,o=0;o<n.length;o++){var i=n[o];"fulfilled"===i.status&&(Object.assign(r,i.value),t=!0)}t&&(q(e=x(r),a),S(e,a))})),H(),o=D(window.PCM.__getCookie("OptanonConsent")),(i=window.PCM.__getCookie("OptanonAlertBoxClosed"))&&new Date-new Date(i)<=k||(!o.implicitConsentDate||new Date-parseInt(o.implicitConsentDate)>=k?Y():g?"GDPR"!==o.implicitConsentCountry&&Y():"nonGDPR"!==o.implicitConsentCountry&&Y()),function(){var n,e,t,o,i=window.PCM.__getCookie("OptanonConsent"),a=window.PCM.__getCookie("OptanonAlertBoxClosed");L(i)&&L(a)&&(n=D(i),e=new Date(a),n.groups&&(void 0===n.backfilled_at||new Date(parseInt(n.backfilled_at))<e||N(n))&&(n.geolocation&&(o={country:(t=n.geolocation.split("%3B"))[0],country_region:t[1]}),j(Object.assign({analytical:-1<(n.groups||"").indexOf(u.analytical)?1:0,marketing:-1<(n.groups||"").indexOf(u.marketing)?1:0,consented_at:e.toISOString()},o),{optanonAction:"back_filling"},U.bind(this,n,a))))}(),t=(/\.(?:dev|dqs)\.booking\.com/.test(location.origin)?"dqs_":"")+"pcm_verified",T("verifyEnabled")&&!window.PCM.__getCookie(t)&&(n=D(window.PCM.__getCookie("OptanonConsent")))&&!window.PCM.__getCookie("OptanonAlertBoxClosed")&&n.implicitConsentDate<16884216e5&&((e=new XMLHttpRequest).withCredentials=!0,e.onload=function(){200===e.status&&(document.cookie=t+"=1;")},e.open("POST","https://"+p+"/privacy-consents/verify",!0),e.setRequestHeader("Content-type","application/json;charset=UTF-8"),e.send(JSON.stringify({client_type:"web",client_id:"vO1Kblk7xX9tUn2cpZLS",implicit_consent_date:n.implicitConsentDate}))))}var W,Q,X,Z=(W=null,Q=!1,window.addEventListener("load",function(){Q=!0,J()}),{produce:function(n){W=n,J()}});function J(){null!==W&&Q&&window.PCM.__dispatchEvent("cookie_banner_loaded",{willBannerBeShown:W})}window.PCM=Object.assign({Marketing:!1,Analytical:!1,__eventCounter:0,__mustInjectSDK:!0,__dispatchEvent:function(n,e){var t;e=e||window.PCM,CustomEvent?(t=document.createEvent("CustomEvent")).initCustomEvent(n,!0,!0,e):t=new CustomEvent(n,{detail:e}),document.dispatchEvent(t)},__injectSDK:function(){var n;window.PCM.__mustInjectSDK&&((n=document.createElement("script")).type="text/javascript",n.setAttribute("async","true"),n.setAttribute("src","https://cdn.cookielaw.org/scripttemplates/otSDKStub.js"),n.setAttribute("charset","UTF-8"),n.setAttribute("data-document-language","true"),n.setAttribute("data-domain-script",l),_&&n.setAttribute("nonce",_),n.addEventListener("load",function(){Z.produce(!window.PCM.isUserGaveConsent())}),n.addEventListener("error",function(){Z.produce(!1)}),document.getElementsByTagName("head").item(0).appendChild(n),window.PCM.__mustInjectSDK=!1)},__getCookie:function(n){n+="=";for(var e,t=document.cookie.split(";"),o=0;o<t.length;o+=1){for(e=t[o];" "==e.charAt(0);)e=e.substring(1,e.length);if(0==e.indexOf(n))return e.substring(n.length,e.length)}return null},__deleteCookie:function(n,e,t){e=e||"/",t=t||"."+r,document.cookie=n+"=;path="+e+";domain="+t+";expires=Thu, 01 Jan 1970 00:00:01 GMT"},isUserGaveConsent:function(){var n=window.PCM.__getCookie("OptanonAlertBoxClosed");return n&&new Date-new Date(n)<=k},syncConsent:function(n,e,t){n=n||O,e=e||new Date;var o=window.PCM.__getCookie("OptanonAlertBoxClosed"),i=window.PCM.__getCookie("OptanonConsent"),a=D(i),r=-1<(a.groups||"").indexOf(u.analytical)?1:0,s=-1<(a.groups||"").indexOf(u.marketing)?1:0;S(i,o,t),C||j({analytical:r,marketing:s},{optanonAction:n},U.bind(this,a,o),{wrapperCalledAt:e,consentedAll:n===y}),A.indexOf(n)&&function(){if((!window.PCM.Analytical||!window.PCM.Marketing)&&K()&&B.require("et").track("eWfCDMECTQVIHQZcVYTYUNTTFFEaVBEO")){var n=[];window.PCM.Analytical||n.push(w.ANALYTICAL),window.PCM.Marketing||n.push(w.MARKETING),1<n.length?B.require("et").customGoal("eWfCDMECTQVIHQZcVYTYUNTTFFEaVBEO",1):(n[0]===w.ANALYTICAL&&B.require("et").customGoal("eWfCDMECTQVIHQZcVYTYUNTTFFEaVBEO",2),n[0]===w.MARKETING&&B.require("et").customGoal("eWfCDMECTQVIHQZcVYTYUNTTFFEaVBEO",3));for(var e=[],t=0;t<window.Optanon.GetDomainData().Groups.length;t++){var o=window.Optanon.GetDomainData().Groups[t];o.CustomGroupId&&-1!==n.indexOf(o.CustomGroupId)&&e.push(o)}for(var i=[],a=document.cookie.split("; "),t=0;t<a.length;t++)i.push(a[t].split("=")[0]);for(t=0;t<e.length;t++)for(var r=e[t].Cookies,s=0;s<r.length;s++){var c=[r[s].Name];if(-1!==c[0].indexOf("xx"))for(var d=new RegExp("^"+c[0].replaceAll("x","\\w")+"$","g"),l=0;l<i.length;l++)i[l].match(d)&&c.push(i[l]);for(var u=0;u<c.length;u++)window.PCM.__deleteCookie(c[u]),window.PCM.__deleteCookie(c[u],null,location.host)}}}()}},window.PCM),void 0===window.dataLayer&&(window.dataLayer=[]),"www.booking.com"!==o&&!window.PCM.__getCookie("OptanonAlertBoxClosed")||window.PCM.__injectSDK(),X=function(){"www.booking.com"===o?V():(window.addEventListener("message",function(n){n&&n.data&&"OneTrustCookies"===n.data.name&&(q(n.data.OptanonConsent,n.data.OptanonAlertBoxClosed),V(),window.PCM.__injectSDK())}),E(!1))},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(n){X()}):X()}();